## 凸集

## 2.1 仿射集合和凸集
### 2.1.1 直线与线段
设 $x_1 ≠ x_2$为空间内两点，那么具有下面形式的点
$$ y = \theta x_1 + (1-\theta)x_2 {\quad} \theta \in R $$

### 2.1.2 仿射集合
如果通过集合$C \in R$中的任意两个不同点的直线仍然在C中，那么称集合$C$是仿射的。即$C$包含了$C$中任意两点的系数之和为1的线性组合。  
扩展到多个点的情况，如果$\theta_1 + ... + \theta_k=1$，我们称具有$\theta_1x_1 + ... + \theta_kx_k$的形式的点为仿射组合。  
归纳可以得到一下结论：  
一个仿射集合包含其中任意点的仿射组合。

如果$C$是一个仿射集合并且$x_0 \in C$，则集合
$$ V = C - x_0 = \{x-x_0| x \in C\}$$
是一个子空间。

线性方程组的解集是一个仿射集合，反之任意仿射集合可以表示为一个线性方程组的解集。


称集合$C\in R^n$中的点的所有仿射组合组成的集合为C的仿射包$affC$:
$$ aff C = \{\theta_1 x_1 + ... + \theta_k x_k | x_1,..., x_k \in C, \theta _1 + ... + \theta _k = 1\}$$
仿射包是包含C的最小集合。


### 2.1.4 凸集
集合$C$被称为凸集,如果$C$中任意两点间的线段仍然在$C$中，$x_1,x_2 \in C$和满足$0 <= \theta <= 1$都有
$$ \theta x_1 + (1-\theta)x_2 \in C$$
称$\theta_1x_1 + ... + \theta_kx_k$为点$x_1,...,x_k$的凸组合。其中$\theta _1 + ... + \theta _k = 1$并且$\theta_i >= 0 $

集合中所有点的凸组合被称为凸包
$$ conv C = \{\theta_1 x_1 + ... + \theta_k x_k | \theta_i >= 0, x_1,..., x_k \in C, \theta _1 + ... + \theta _k = 1\}$$

在概率上也存在有关凸集的相关知识。

### 2.1.5 锥
如果对于任意$x \in C$ 和 $\theta >= 0$ 都有$ \theta x \in C$，那么称$C$为锥。如果集合$C$是锥，并且是凸的，那么称$C$为凸锥，即对于任意$x_1,x_2 \in C$ 和 $\theta_1, \theta_2$都有
$$ \theta _1 x_1 + \theta _2 x_2 \in C$$
具有$\theta_1 x_1 + ... + \theta_k x_k, \theta_1 ... \theta_k >= 0$形式的点称为$x_1,...,x_k$的锥组合。

集合$C$的锥包是$C$中元素的所有锥组合的集合，即
$$\{\theta_1 x_1 + ... + \theta_k x_k| x_i \in C, \theta_i >= 0\}$$
它是包含C的最小的凸锥

## 2.2 重要的例子

超平面是具有以下形式的集合：
$$ \{x|a^Tx + b = 0\}$$
其中$a \in R^n$， $a≠0$且$b \in R$。解析地，超平面是关于$x$的非平凡线性方程的解空间。几何上，超平面$、\{x|a^Tx=b\}$可以解释为给定向量$a$的内积为常数的点的集合。常数$b \in R$决定了平面从原点的偏移。
可以将超平面表示成下面的形式：
$$ \{x| a^T(x - x_0) = 0 \} $$
一个超平面将$R^n$划分为半个空间。（闭的）半空间是具有下列形式:
$$ \{ a^T x <= b\} $$
半空间是凸的，但是不是仿射的。

## 2.2.2 Euclid球和椭球
$R^n$ 中的空间Euclid球具有以下的形式：
$$ B(x_c, r) = \{x| ||x-x_c||_2 = r\} = \{x| (x-x_c)^T(x-x_c) = r^2\} $$
其中$ r > 0 $, $ ||*||_2 $表示$Euclid$范数，即$||u||_2 = (u^T u)^{1/2}$。向量$x_c$是球心，标量$r$为半径.

$B(x_c, r)$由距离球心$x_c$距离不超过$r$的所有点组成。另一种形式为：
$$ B(x_c, r) = \{x_c + ru|\quad||u||_2 <= 1\} $$
Euclid球是凸集。

一个相关的凸集是椭球，它们具有如下的形式：
$$ \epsilon =  \{x|(x - x_c)^T P ^{-1}(x-x_c) <= 1\} $$
其中 $P=P^T > 0$，$x_c$是椭球心，$P$是正定的对称矩阵。$\epsilon$的半轴长度由$\sqrt{\lambda_i}$给出，其中$\lambda_i$是$P$的特征值。  
椭球的另外一个常用的表现形式是
$$ \epsilon =  \{x_c + Au| \quad||u||_2 <= 1 \} $$
其中A是非奇异的方阵。在此类表现形式中，可以不失一般性地取$A=P^{1/2}$。
## 2.2.4 多面体
多面体被定义为有限个线性等式和不等式的解集，
$$ P = \{x| a_j^T x <= b_j,j = 1,...,m,c_j^Tx = d_j, j = 1,..., p\}$$
多面体是有限个半空间和超平面的交集。多面体是凸集。
使用紧凑表达式：
$$ P = \{x| Ax <= b, Cx = d\} $$

单纯形是一类重要的多面体。设$k+1$个点$v_0,...,v_k  \in R^n$仿射独立,即$v_1-v_0,...,v_k-v_0$线性独立，那么这些点决定了一个单纯形，如下：
$$ C = conv\{v_0,...,v_k\} = \{\theta_0 v_0  + ... + \theta_k v_k  | \theta_i >= 0,1^T \theta = 1\} $$ 
这个单纯形的仿射维数为$k$，也被称为$R^n$空间的k维单纯形。

常见的单纯形：
1. 单位单纯形是由零向量和单位向量$0, e_1, ..., e_n \in R^n $ 决定的n维单纯形。它可以表示为满足下列条件的向量的集合,
$$ x >= 0, \quad 1^T x <= 1 $$
2. 概率单纯形是由零向量和单位向量$e_1, ..., e_n \in R^n $ 决定的$n-1$维单纯形
$$ x >= 0, \quad 1^T x = 1 $$

多面体的凸包描述。

### 2.2.5 半正定锥：
用$S^n$表示对称$n × n $ 矩阵的集合，即
$$ S^n = \{X \in R^{n×n} | X = X^T \} $$
（这些符号与$R_+$对应：$R_+$表示非负数，而$R_{++}$表示正实数。）  
集合$S_{+}^n$是一个凸锥。


## 2.3 保凸运算
### 2.3.1 交集
交集运算是保凸的：如果$S_1$和$S_2$是凸集，那么$S_1 \cap S_2$也是凸集。这个性质可以扩展到无穷个集合的交：如果对于任意的$\alpha \in A$， $S_\alpha$都是凸的，那么$\cap_{\alpha \in A} S_\alpha$是凸的。
### 2.3.2 仿射函数
函数$f: R^n -> R^m$是仿射的，如果它是一个线性函数和一个常数的和，即具有$f(x) = Ax+b$的形式，那么$A \in R^{mn}, b \in R^m$。假设$S \subseteq R^n$是凸的，并且$f:R^n -> R^m$是仿射函数，那么， $S$在$f$下的象
$$ f(S) = \{f(x)| x \in S\} $$
是凸的。即做伸缩和平移，集合仍然是凸的。
两个集合的和定义为：
$$ S_1 + S_2 = \{x + y| x \in S_1, y \in S_2\}$$
如果$S_1$和$S_2$是凸集，那么，$S_1 + S_2$是凸的。如
果$S_1$和$S_2$是凸的，那么其直积
$$ S_1 × S_2 = \{(x_1, x_2)| x_1 \in S_1, x_2 \in S_2 \} $$

**线性矩阵不等式**：
条件
$$A(x) = x_1 A_1 + ... + x_n A_n <= B $$
称为关于$x$的线性不等式(LMI)，其中$B, A_i \in S^m$。  
线性不等式的解为凸集，事实上，它是半正定锥在由$f(x) = B-A(x)$给定的仿射映射$f:R^n -> S^m$下的原象。

**椭球**
$$\Epsilon = \{x|(x-x_c)^T P^{-1}(x-x_c) <= 1 \} $$
是单位Euclid球$\{u|\quad||u||_2 <= 1\}$在仿射映射$f(u) = P^{1/2}u + x_c $下的象，其中$P \in S^n_{++}$。（同时也是单位球在仿射映射$g(x) = P^{-1/2}(x-x_c)$下的原象）。

### 2.3.3 线性分式及透视函数
**透视函数**  
定义$P:R^{n+1} -> R^n, P(z, t) = z/t$为透视函数，其定义域为$dom P = R^n × R_{++}$，透视函数对向量进行伸缩，或称为规范化，使得最后一维分量为1，并舍弃之。

**线性分式函数**
线性分式函数由透视函数和仿射函数复合而成。设$g: R^n->R^{m+1}$是仿射的，即
$$ g(x) = \Bigg[\begin{aligned}
A\\c_t \end{aligned}\Bigg]x + \Bigg[\begin{aligned}b\\d\end{aligned}\Bigg]
$$
其中$A \in R^{m×n}, b \in R^m, c \in R^n $并且$d \in R$。则由$f = Pog$给出的函数$f: R^n->R^m$
$$ f(x) = (Ax + b) / (c^Tx + d)$$
$$ domf = \{x| c^Tx + d > 0\}$$
称为线性分式（或投射）函数。

线性分式函数是保凸的。如果C是凸集并且在f的定义域中（即任意$x \in C$满足$c^T + d > 0$），那么C的象$f(C)$也是凸集。

**条件概率**
设$u$和$v$分别在${1, ..., n}$和${1, ..., m}$中取值的随机变量，并且$p_{ij}$表示概率$prob(u=i, v=j)$。那么条件概率$f_{ij} = prob(u=i|v=j)$由下式给出
$$ f_{ij} = \frac{p_{ij}}{\sum_{k=1}^{n}p_{kj}} $$
